{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-jodie-core-src-templates-projects-query-tsx-f64d53cf384478e4acd3.js","mappings":"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","sources":["webpack://jodie/./src/@lekoarts/gatsby-theme-jodie/components/projects.tsx","webpack://jodie/./node_modules/@lekoarts/gatsby-theme-jodie-core/src/templates/projects-query.tsx","webpack://jodie/./src/@lekoarts/gatsby-theme-jodie/@lekoarts/gatsby-theme-jodie-core/components/projects.tsx","webpack://jodie/./src/@lekoarts/gatsby-theme-jodie/components/grid-item.tsx","webpack://jodie/./src/@lekoarts/gatsby-theme-jodie/locales/index.ts","webpack://jodie/./src/@lekoarts/gatsby-theme-jodie/styles/item-list.ts","webpack://jodie/./src/@lekoarts/gatsby-theme-jodie/utils/modify-grid.ts","webpack://jodie/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["/** @jsx jsx */\r\nimport { jsx } from \"theme-ui\"\r\nimport * as React from \"react\"\r\nimport { PageProps } from \"gatsby\"\r\nimport { IGatsbyImageData, GatsbyImage } from \"gatsby-plugin-image\"\r\nimport Layout from \"./layout\"\r\nimport Seo from \"./seo\"\r\nimport GridItem from \"./grid-item\"\r\nimport locales from \"../locales\"\r\nimport { visuallyHidden } from \"../styles/utils\"\r\n\r\n// import { useIntl } from \"gatsby-plugin-intl\"\r\n// const intl = useIntl()\r\n// let current_lang = intl.locale\r\n\r\nimport modifyGrid from \"../utils/modify-grid\"\r\nimport { itemListWrapperStyles, itemStyles } from \"../styles/item-list\"\r\n\r\ntype DataProps = {\r\n  projects: {\r\n    nodes: {\r\n      lang: string\r\n      slug: string\r\n      title: string\r\n      shortTitle: string\r\n      cover: {\r\n        childImageSharp: {\r\n          gatsbyImageData: IGatsbyImageData\r\n        }\r\n      }\r\n      __typename: \"MdxProject\"\r\n    }[]\r\n  }\r\n  // projects: {\r\n  //   nodes: {\r\n  //     lang: string\r\n  //     shortTitle: string\r\n  //     slug: string\r\n  //     cover: {\r\n  //       childImageSharp: {\r\n  //         gatsbyImageData: IGatsbyImageData\r\n  //       }\r\n  //     }\r\n  //   }[]\r\n  // }\r\n}\r\n\r\nconst Project: React.FC<PageProps<DataProps>> = ({ data: { projects }, location }) => {\r\n\r\n  const rawItems = [...projects.nodes]\r\n  const items = modifyGrid(rawItems)\r\n  const itemsCount = items.length\r\n\r\n  return(\r\n    // // Making useIntl available in the code\r\n    // const intl = useIntl()\r\n    // // Use language iso for the routes\r\n    // const locale = intl.locale !== \"es\" ? `/${intl.locale}` : \"\"\r\n    <Layout>\r\n      <Seo title=\"Projects\" pathname={location.pathname} />\r\n      <h1 sx={visuallyHidden} data-testid=\"page-title\">\r\n        {locales.projects}\r\n      </h1>\r\n      <div\r\n        sx={{\r\n          display: `grid`,\r\n          gridTemplateColumns: [`1fr`, `1fr 1fr`],\r\n          gridAutoRows: `50vw`,\r\n        }}\r\n      >\r\n        {projects.nodes.length > 0 ? (\r\n          items.map((project, index) => (\r\n            <GridItem to={project.slug} className=\"item\" key={project.title} sx={itemStyles} data-testid={project.title }>\r\n              <GatsbyImage\r\n                loading={index === 0 ? `eager` : `lazy`}\r\n                image={project.cover.childImageSharp.gatsbyImageData}\r\n                alt=\"\"\r\n              />\r\n              <span>{project.title }</span>\r\n            </GridItem>\r\n          ))\r\n        ) : (\r\n          <div sx={{ padding: 3 }}>No projects found at the location defined for \"projectsPath\"</div>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Project\r\n","import { graphql } from \"gatsby\"\nimport ProjectsComponent from \"../components/projects\"\n\nexport default ProjectsComponent\n\n    //projects: allProject(sort: { fields: date, order: DESC }, limit: 1) {\nexport const query = graphql`\n  query {\n    projects: allProject(sort: { fields: date, order: DESC }) {\n      nodes {\n        slug\n        lang\n        title: shortTitle\n        cover {\n          childImageSharp {\n            gatsbyImageData(width: 1200, quality: 90)\n          }\n        }\n        __typename\n      }\n    }\n  }\n`\n","import * as React from \"react\"\r\nimport { PageProps } from \"gatsby\"\r\nimport { IGatsbyImageData } from \"gatsby-plugin-image\"\r\nimport Projects from \"../../../components/projects\"\r\n\r\ntype DataProps = {\r\n  projects: {\r\n    nodes: {\r\n      shortTitle: string\r\n      slug: string\r\n      lang: string\r\n      cover: {\r\n        childImageSharp: {\r\n          gatsbyImageData: IGatsbyImageData\r\n        }\r\n      }\r\n    }[]\r\n  }\r\n}\r\n\r\nexport default function JodieCoreProjects({ children, ...props }: PageProps<DataProps>) {\r\n  return <Projects {...props}>{children}</Projects>\r\n}\r\n","/** @jsx jsx */\r\nimport { jsx, get } from \"theme-ui\"\r\nimport * as React from \"react\"\r\nimport { Link } from \"gatsby\"\r\n\r\nconst GridItem: React.FC<{ to: string; className?: string }> = ({ children, to, ...props }) => (\r\n  <Link\r\n    to={to}\r\n    sx={{\r\n      position: `relative`,\r\n      // @ts-ignore\r\n      \"> div\": {\r\n        position: `absolute !important`,\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n      },\r\n      \"> div:before\": {\r\n        position: `absolute`,\r\n        content: `''`,\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        zIndex: 5,\r\n        background: `linear-gradient(45deg, rgba(22,22,22,0) 75%, rgba(0,0,0,0.35) 100%)`,\r\n      },\r\n      \"> div:after\": {\r\n        position: `absolute`,\r\n        content: `''`,\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        boxShadow: (t) => `inset 0 0 0 0px ${get(t, `colors.white`)}`,\r\n        transition: `all 0.3s ease-in-out`,\r\n      },\r\n      \"> div img\": {\r\n        transition: `all 0.3s ease 0s !important`,\r\n      },\r\n      \"> span\": {\r\n        zIndex: 10,\r\n        color: `white`,\r\n        position: `absolute`,\r\n        left: 0,\r\n        right: 0,\r\n        textAlign: `right`,\r\n        fontWeight: `bold`,\r\n        fontSize: [3, 3, 4],\r\n        padding: 3,\r\n        textShadow: `0 1px 4px rgba(0, 0, 0, 0.5)`,\r\n      },\r\n      \"&:hover\": {\r\n        \"> div img\": {\r\n          transform: `scale(1.05)`,\r\n        },\r\n      },\r\n      \"&:focus\": {\r\n        outline: `none`,\r\n        \"> div:after\": {\r\n          boxShadow: (t) => `inset 0 0 0 7px ${get(t, `colors.white`)}`,\r\n          zIndex: 10,\r\n        },\r\n      },\r\n      \"@media screen and (prefers-reduced-motion: reduce)\": {\r\n        \"&:hover\": {\r\n          \"> div img\": {\r\n            transform: `scale(1)`,\r\n          },\r\n          \"> div:after\": {\r\n            boxShadow: (t) => `inset 0 0 0 7px ${get(t, `colors.white`)}`,\r\n            zIndex: 10,\r\n          },\r\n        },\r\n      },\r\n      variant: `grid-item`,\r\n    }}\r\n    {...props}\r\n  >\r\n    {children}\r\n  </Link>\r\n)\r\n\r\nexport default GridItem\r\n","const locales = {\r\n  home: `Home`,\r\n  projects: `Projects`,\r\n  instagram: `Instagram`,\r\n}\r\n\r\nexport default locales\r\n","import type { ThemeUICSSObject } from \"theme-ui\"\r\n\r\nexport const itemListWrapperStyles: ThemeUICSSObject = {\r\n  \".item-list\": {\r\n    display: `grid`,\r\n    gridAutoRows: `auto`,\r\n  },\r\n  \"@media screen and (min-width: 40em)\": {\r\n    \".item-list\": { gridTemplateColumns: `repeat(2, minmax(0, 1fr))` },\r\n    \".div2 .item,.div3 .item:nth-of-type(3n+1),.div4 .item:nth-of-type(4n+1),.div4 .item:nth-of-type(4n+4),.div5 .item:nth-of-type(5n+1),.div6 .item:nth-of-type(3n+1),.div7 .item:nth-of-type(7n+1),.div7 .item:nth-of-type(7n+4),.div7 .item:nth-of-type(7n+7),.div8 .item:nth-of-type(4n+1),.div8 .item:nth-of-type(4n+4),.div9 .item:nth-of-type(3n+1)\":\r\n      {\r\n        gridColumn: `auto / span 2`,\r\n      },\r\n  },\r\n  \"@media screen and (min-width: 1280px)\": {\r\n    \".item-list\": { gridTemplateColumns: `repeat(3, minmax(0, 1fr))` },\r\n    \".div4 .item:nth-of-type(12n+2),.div4 .item:nth-of-type(12n+11),.div5 .item:nth-of-type(15n+2),.div5 .item:nth-of-type(15n+13),.div7 .item:nth-of-type(7n+2),.div7 .item:nth-of-type(7n+6),.div8 .item:nth-of-type(12n+2),.div8 .item:nth-of-type(12n+11),.div9 .item:nth-of-type(9n+2),.div9 .item:nth-of-type(9n+7)\":\r\n      {\r\n        gridRow: `auto / span 2`,\r\n      },\r\n    \".div3 .item:nth-of-type(6n+3),.div3 .item:nth-of-type(6n+5),.div4 .item:nth-of-type(12n+3),.div4 .item:nth-of-type(12n+4),.div4 .item:nth-of-type(12n+10),.div4 .item:nth-of-type(12n+12),.div5 .item:nth-of-type(15n+3),.div5 .item:nth-of-type(15n+4),.div5 .item:nth-of-type(15n+12),.div5 .item:nth-of-type(15n+14),.div6 .item:nth-of-type(12n+6),.div6 .item:nth-of-type(12n+11),.div7 .item:nth-of-type(7n+3),.div7 .item:nth-of-type(7n+4),.div7 .item:nth-of-type(7n+5),.div7 .item:nth-of-type(7n+7),.div8 .item:nth-of-type(12n+3),.div8 .item:nth-of-type(12n+4),.div8 .item:nth-of-type(12n+10),.div8 .item:nth-of-type(12n+12),.div9 .item:nth-of-type(9n+3),.div9 .item:nth-of-type(9n+4),.div9 .item:nth-of-type(9n+5),.div9 .item:nth-of-type(9n+8),.div9 .item:nth-of-type(9n+9)\":\r\n      {\r\n        gridColumn: `auto / span 2`,\r\n      },\r\n    \".div2 .item,.div3 .item:nth-of-type(6n+1),.div3 .item:nth-of-type(6n+4),.div4 .item:nth-of-type(12n+1),.div4 .item:nth-of-type(12n+5),.div4 .item:nth-of-type(12n+9),.div5 .item:nth-of-type(15n+1),.div5 .item:nth-of-type(15n+5),.div5 .item:nth-of-type(15n+6),.div5 .item:nth-of-type(15n+10),.div5 .item:nth-of-type(15n+11),.div5 .item:nth-of-type(15n+15),.div6 .item:nth-of-type(12n+1),.div6 .item:nth-of-type(12n+7),.div7 .item:nth-of-type(7n+1),.div8 .item:nth-of-type(12n+1),.div8 .item:nth-of-type(12n+5),.div8 .item:nth-of-type(12n+9),.div9 .item:nth-of-type(9n+1)\":\r\n      {\r\n        gridColumn: `auto / span 3`,\r\n      },\r\n  },\r\n}\r\n\r\nexport const itemStyles: ThemeUICSSObject = {\r\n  minHeight: [`500px`, `700px`],\r\n}\r\n","import { IGatsbyImageData } from \"gatsby-plugin-image\"\r\n//import { filterByLang } from \"./resolver-templates\";\r\n//import { filterBySlug } from \"@lekoarts/gatsby-theme-jodie/src/utils/resolver-templates\";\r\nimport { useIntl } from \"gatsby-plugin-intl\"\r\n\r\nexport interface IGridItem {\r\n  lang: string\r\n  slug: string\r\n  title: string\r\n  shortTitle: string\r\n  cover: {\r\n    childImageSharp: {\r\n      gatsbyImageData: IGatsbyImageData\r\n    }\r\n  }\r\n  __typename: \"MdxProject\" | \"MdxPage\"\r\n}\r\n\r\n\r\nfunction defaultResolver(data: IGridItem[]): IGridItem[] {\r\n  return data\r\n}\r\n\r\nexport function filterByLang(\r\n    data: IGridItem[],\r\n    langFilter: string[]\r\n  ) {\r\n  return data.filter((d) => langFilter.includes(d.lang))\r\n}\r\n\r\nfunction modifyGrid(\r\n    data: IGridItem[],\r\n    resolver = filterByLang\r\n  ): IGridItem[] {\r\n  let intl = useIntl()\r\n  return resolver(data, [intl.locale, null])\r\n}\r\n\r\n\r\n/**\r\n * Examples:\r\n *\r\n * You can import the onlyPages() function to filter out everything but pages:\r\n *\r\n * const modifyGrid = data => onlyPages(data)\r\n *\r\n * You can also do more sophisticated filtering, like the filterBySlug() function that also takes in a second parameter (an array of slugs)\r\n * You'll need to pass the data in the second argument:\r\n *\r\n * const modifyGrid = (data) => filterBySlug(data, [\"/about\"])\r\n */\r\nexport default modifyGrid","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["projects","data","location","rawItems","nodes","items","modifyGrid","length","title","pathname","sx","visuallyHidden","locales","display","gridTemplateColumns","gridAutoRows","map","project","index","to","slug","className","key","itemStyles","G","loading","image","cover","childImageSharp","gatsbyImageData","alt","padding","children","props","Link","position","top","right","bottom","left","content","zIndex","background","boxShadow","t","get","transition","color","textAlign","fontWeight","fontSize","textShadow","transform","outline","variant","home","instagram","itemListWrapperStyles","gridColumn","gridRow","minHeight","filterByLang","langFilter","filter","d","includes","lang","resolver","useIntl","locale","_objectWithoutPropertiesLoose","source","excluded","i","target","sourceKeys","Object","keys","indexOf"],"sourceRoot":""}